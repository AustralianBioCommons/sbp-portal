<!-- Loading overlay -->
@if (isLoading$ | async) {
<app-loading></app-loading>
}

<!-- AlertComponent - shows success/error messages for 3 seconds (Centered overlay) -->
@if (showBanner$ | async) {
<div class="fixed inset-0 z-[1002] flex items-center justify-center pointer-events-none bg-black bg-opacity-25">
  <div class="pointer-events-auto centered-alert">
    <app-alert [type]="(bannerType$ | async) || 'error'" [message]="(bannerMessage$ | async) || ''" [dismissible]="true"
      (dismissed)="dismissError()">
    </app-alert>
  </div>
</div>
}

<!-- Header with navigation -->
<app-header></app-header>

<!-- Main content area -->
<main>
  <router-outlet></router-outlet>
</main>

<!-- Footer -->
<app-footer-sections (search)="onSearch($event)"></app-footer-sections>

<!-- Logout Confirmation Dialog -->
<app-dialog
  [isOpen]="showLogoutDialog()"
  [title]="'Confirm Logout'"
  [message]="'Are you sure you want to log out?'"
  [confirmText]="'Log out'"
  [cancelText]="'Cancel'"
  [confirmVariant]="'secondary'"
  (confirmed)="onLogoutConfirmed()"
  (cancelled)="onLogoutCancelled()"
  (closed)="showLogoutDialog.set(false)"
>
</app-dialog>
